## 用户手册

- [游戏设定与玩法](#Game)
- [从源码构建项目](#Build)

### <span id="Game">游戏设定与玩法</span>

- 初始界面

  <img src=".\DocPics\image-20210103213108721.png" alt="image-20210103213108721" style="zoom:67%;" />

  点击 **开始匹配** 可以进入联机匹配状态

- 匹配成功之后进入到游戏界面

  <img src=".\DocPics\image-20210103213700304.png" alt="image-20210103213700304"  />

  - 游戏中有两个阵营 **Monster** / **HuluBro**

  - 右下角显示了当前操控者所在的阵营，操控者只能操控己方阵营的游戏人物

  - 右下角还显示了当前被选中的游戏人物的属性值

  - 通过点击 **上移**，**左行**，**右行**，**下移** 可以操控选中人物进行相应的移动

  - 通过点击 **攻击** 可以将人物设置为攻击状态(如下图所示)，在攻击状态下点击 **攻击** 按钮可以操控选中人物发动攻击，对周围一定范围内的人物造成伤害，攻击可能触发暴击，葫芦兄弟的暴击率和攻击力高于妖精，但攻击范围和防御力低于妖精

    - 葫芦娃攻击状态

      <img src=".\DocPics\image-20210103214316540.png" alt="image-20210103214316540"  />

    - 妖精攻击状态

      <img src=".\DocPics\image-20210103214257056.png" alt="image-20210103214257056"  />

    - 葫芦娃和妖精的攻击范围

      <img src=".\DocPics\image-20210103215823922.png" alt="image-20210103215823922"  />

  - 通过点击 **防御** 可以将人物设置为防御状态(如下图所示)，防御状态下不能攻击和移动，但是在遭受攻击时收到的伤害会大幅度降低，处于防御状态的人物可以点击 **解除** 解除防御状态

    - 葫芦娃防御状态

      <img src=".\DocPics\image-20210103214736018.png" alt="image-20210103214736018"  />

    - 妖精防御状态

      <img src=".\DocPics\image-20210103214753082.png" alt="image-20210103214753082"  />

    - 解除防御

      <img src=".\DocPics\image-20210103215052299.png" alt="image-20210103215052299"  />

  - 通过点击 **投降** 可以进行投降，对方直接获得胜利

    <img src=".\DocPics\image-20210103215136250.png" alt="image-20210103215136250" style="zoom:67%;" />

    

  - 直接点击右上角 `X` 关闭界面，己方会跳转回到初始界面，而对方会获得胜利

    <img src=".\DocPics\image-20210103215309076.png" alt="image-20210103215309076" style="zoom:67%;" />

  - 当游戏人物的生命值降低为0后，他就会死亡

    - 葫芦娃死亡

      <img src=".\DocPics\image-20210103220041308.png" alt="image-20210103220041308"  />

    - 妖精死亡

      <img src=".\DocPics\image-20210103220021691.png" alt="image-20210103220021691"  />

  - 当游戏中某一方的所有人物都死亡后，该方输掉游戏，对方获胜

    <img src=".\DocPics\image-20210103220111535.png" alt="image-20210103220111535" style="zoom:67%;" />

  - **读取历史**

    在初始页面点击 **加载历史** 按钮后进入历史界面

    <img src=".\DocPics\image-20210103221626794.png" alt="image-20210103221626794" style="zoom: 67%;" />

    选中需要加载的历史点击 **确认载入**，即可载入历史

    <img src=".\DocPics\image-20210103221729221.png" alt="image-20210103221729221" style="zoom:67%;" />

    可以直接点击右上角 `X` 关闭历史回放，返回初始页面

  ### <span id="Build">从源码构建项目</span>

  - P.S. 服务器默认绑定本地IP地址为`127.0.0.20`，接口为 `6400`，请确保该 ip+port 组合未被占用

  - 项目依赖
    - Junit：用于单元测试
    - fastjson：用于将消息转换为Json格式和将Json格式字符串解析为消息数据，用于网络数据传输
    
  - 建议使用 IntelliJ IDEA 直接打开项目源码文件

    <img src=".\DocPics\image-20210103225544053.png" alt="image-20210103225544053" style="zoom:67%;" />

    - 依次运行 `testServer`，`testGame1` 和 `testGame2` 即可进行双人联机对战
      - P.S. `testGame1`绑定本地IP地址为`127.0.0.25`，`testGame2`绑定本地IP地址为`127.0.0.30`，并占用 `6400` 和 `6401`两个端口，请确保这些ip+port组合未被占用

​		